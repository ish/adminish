<%page args="field" />

<%
optionkeys = [k for k,v in field.widget.options]
%>

<%def name="render_subtree(field, optiontrees)">
<ul>
% for optiontree in optiontrees['children']:
<%
option = optiontree['data']
index = optionkeys.index(option[0])
%>
  <li><input id="${field.cssname}-${index}" name="${field.name}" type="checkbox" value="${option[0]}"${field.widget.checked(option,field.value,field.attr)|n} />
  <label for="${field.cssname}-${index}">${option[1]}</label></li>
  ${render_subtree(field,optiontree)}
  
% endfor
</ul>
</%def>

${render_subtree(field,field.widget.optiontree)}

